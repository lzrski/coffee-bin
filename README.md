Compiling executables from CoffeeScript
=======================================

You may know that you can prepare command line executables for others to install with NPM. It's easy. Just add `bin` field to your `package.json` file:

```javascript
{ "bin" : { "myapp" : "./cli.js" } }
```

Here is more about it: https://docs.npmjs.com/files/package.json#bin

Now in order for this to work you need to provide a [so-called `shebang`][shebang] at the beginning of `cli.js` file, so that your shell knows how to handle it. You can't expect it to understand `javascript` on it's own. Her is how the file may look like:

```javascript
#!/usr/bin/env node

console.log("Hello, I'm bin :)");
```

Now, from the projects directory you can install it like that:

```sh
npm install --global .
```

or if you [publish it to npm repository][publish], then anybody can install it like that:

```sh
npm install --global coffee-bin
```

With CoffeeScript
-----------------

You may like to write your JavaScript in CoffeeScript. Recently I wanted to have a command line tool in one of my Coffee projects and I've promptly run into [some troubles with shebang][issue]. Let me dissect it for you:

If you just add the `shebang` to your `cli.coffee` file:

```coffeescript
#!/usr/bin/env node

console.log "Hello, I'm a coffee bin :)"
```

and then compile it as usual:

```sh
coffee --compile cli.coffee
```

then you will get this:

```javascript
// Generated by CoffeeScript 1.10.0
(function() {
  console.log("Hello, I'm a coffee bin :)");

}).call(this);
```

Note that there is no trace of shebang here. That's because in CoffeeScript everything starting with a `#` character is a comment and won't make it to the compiled js.  This won't work.

[issue]:    https://github.com/jashkenas/coffeescript/issues/2215
[publish]:  https://docs.npmjs.com/getting-started/publishing-npm-packages
[shebang]:  https://en.wikipedia.org/wiki/Shebang_(Unix)
